<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Julie Chiu</title>
    <!-- The viewport is the visible area of a page. Pages may be wider
 than the screen or browser window; and pages are often longer than
 the browser window. This tag sets the width of the page equal to the
 width of the browser window. The height stays the same. -->
    <meta name="viewport" content="width=device-width initial-scale=1">

    <!-- Include Bootstrap. This downloads Bootstrap from a CDN. You can
     also host Bootstrap on your own server, but it's usually faster for the
     user for their browser to fetch it from a CDN. -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <link rel="stylesheet" type="text/css" href="style3.css">
    <style>
        table {
            margin-left: 480px;
            border: 3px solid white;
        }
    </style>
</head>
<body>

<div class="row">
    <div id="gradient">
        <div class="col-sm-3" id="navigation">
            <div w3-include-html="navigation.html"></div>
        </div>

        <div class="col-lg-5" id="content">

<h2>Travel Wishlist</h2>

<h3 style="text-align: center; margin-left: -150px;">Click on a place to 'visit' it</h3>

<div class="placelist">
<ul id="my_list">
    <li class="place">Rome</li>
    <li class="place">Cairo</li>
    <li class="place">New York</li>
    <li class="place">Tokyo</li>
    <li class="place">Rio de Janeiro</li>
</ul></div>


<span id="stats">
<h3 style="text-align: center; margin-left: -150px;">You have visited <span id="total_visited">0</span> place(s)</>
    <h3 style="text-align: center; margin-left: -150px;">You have <span id="total_not_visited">0</span> place(s) left to visit</h3></span>
<button class="button6" type="button" id="show_visited">SHOW VISITED</button>

<script>
/*
 $("#name") selects elements with id="name"
 $(".thing") selects elements with class="thing"
 $("p") selects elements with tag = p i.e. <P>paragraph</p>

 */


    function updatevisited() {                          // Function to update total visited/unvisited count

        // Count the number of <li> elements with class=visited. Selector ".visited"
       // var visited = $('#total_visited').length;
        var visited = $('.visited').length;             // Counts # of visited list items

        // Count the number of class=place elements
        // math to figure out how many unvisited

        var unvisited = $('.place').length - visited;       // Counts # of unvisited places by subracting visted list items from total

        if (unvisited == 0){
            alert("You've visited all the places!");}       // Alert message appears when unvisited count equals 0

        $("#total_visited").html(visited);                  // Updates total visited counter
        $("#total_not_visited").html(unvisited);            // Updates total unvisited counter
    }

    $(function(){
        // TODO update the numbers in total_visited and total_not_visited spans
        // TODO select all class=place elements. When they are clicked, add the class "visited"
        // TODO keep the the numbers in total_visited and total_not_visited spans updated as user selects more places
        // TODO Display an alert when all destinations have been visited
        $(".place").click(function() {                      // Click function to toggle visited class
            $(this).toggleClass("visited");
            updatevisited();
        });

        $(function() {

            $("#show_visited").click(function () {                             // Click function appending user input to list with class = do
                y = $("#input2").val();
                $("#my_list").append("<li class='do'>"+y+"</li>");
            });
            $("document").ready(function () {

                $("#my_list").on("click", ".visited", (function () {         // Click event switching from do to done class when list item clicked on
                    $(this).toggleClass("unvisited");
                }));

                $("#show_visited").click(function() {                         // Click event causing done class to fadeout when remove tasks button clicked
                    $(".visited").fadeOut(500);


                    $(".visited").each(function(){

                        // Need the text of the todo item,
                        var text = $(this).text();
                        // And the date,
                        var theDate = new Date();
                        // Append to table
                        $('#myTable').append("<tr><td>" + text + "</td><td>" + theDate + "</td></tr>");

                    });

                    $('.visted').remove();   // Delete from todo list

                });});})})

</script>
            <p><p>

            <table id="myTable" border=5 cellpadding ="5">
                <tr>
                    <th style="width:130px" align="left">Item</th>
                    <th style="width:130px" align="left">Date Finished</th></tr>
                <td><p><span id="answer"></span></p></td>
            </table>
        </div>
    </div>
</div>

<script>
    w3.includeHTML();
</script>
</body>
</div>
</html>